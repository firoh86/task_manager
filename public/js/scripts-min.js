"use strict";var clear=document.getElementById("clear"),list=document.getElementById("list"),select=document.getElementById("select"),b1=document.getElementById("green"),b2=document.getElementById("yellow"),b3=document.getElementById("orange"),b4=document.getElementById("red"),additem=document.getElementById("add-item"),mensaje=document.getElementById("mensaje"),fecha=document.getElementById("fecha"),addbutton=document.getElementById("addToDo");clear.addEventListener("click",(function(e){for(;list.firstChild;)list.removeChild(list.firstChild);localStorage.clear()})),addbutton.addEventListener("click",(function(e){if(""===additem.getAttribute("data-color")&&(additem.dataset.color="green"),""!==mensaje.value&&""!==fecha.value){var t="id"+(new Date).getTime(),a={color:additem.dataset.color,done:!1,fecha:fecha.value,id:t,mensaje:mensaje.value};console.log(a),addDataToLS(a,t)}else alert("rellena los campos de fecha y mensaje")}));var addDataToLS=function(e,t){localStorage.setItem(t,JSON.stringify(e));var a=document.createDocumentFragment(),d=document.createElement("li");d.classList.add("item"),d.classList.add(e.color),d.dataset.uid=t;var l=document.createElement("div");l.classList.add("item__block");var n=document.createElement("i");n.classList.add("far","fa-circle");var c=document.createElement("p");c.classList.add("text"),c.textContent=e.mensaje;var o=document.createElement("p");o.classList.add("text"),o.textContent=e.fecha;var s=document.createElement("i");s.classList.add("far","fa-trash-alt");var i=document.createElement("p");l.appendChild(n),l.appendChild(c),l.appendChild(o),d.appendChild(l),d.appendChild(s),a.appendChild(d),list.appendChild(a),additem.dataset.color="",mensaje.value="",i.value="",additem.className="add-item ",additem.dataset.color=""};list.addEventListener("click",(function(e){"I"==e.target.tagName&&e.target.classList.contains("fa-circle")&&taskComplete(e.target),e.target.classList.contains("fa-trash-alt")&&deleteTask(e.target)}));var taskComplete=function(e){e.classList.contains("far")?e.classList.replace("far","fas"):e.classList.replace("fas","far"),e.classList.toggle("complete"),e.nextSibling.classList.toggle("complete");var t=e.parentNode.parentNode.dataset.uid,a=JSON.parse(localStorage.getItem(t));console.log(a),0==a.done?a.done=!0:a.done=!1;var d=JSON.stringify(a);localStorage.setItem(t,d)},deleteTask=function(e){var t=e.parentNode.dataset.uid;localStorage.removeItem(t),list.removeChild(e.parentNode)};window.addEventListener("DOMContentLoaded",(function(){console.log("se ha cargado la p√°gina");var e=Object.values(localStorage);for(var t in e){var a=JSON.parse(e[t]);addDataToLS(a,a.id)}})),select.addEventListener("click",(function(e){console.log(e.target.id),additem.className="add-item ".concat(e.target.id),additem.dataset.color=e.target.id}));